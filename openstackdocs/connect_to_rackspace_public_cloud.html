

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Connect To Rackspace Public Cloud &#8212; MerlinTechs</title>
    <link rel="stylesheet" href="../_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="General Documentation" href="../generaldocs/index.html" />
    <link rel="prev" title="Openstack Related Documentation" href="index.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../generaldocs/index.html" title="General Documentation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Openstack Related Documentation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">MerlinTechs</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Openstack Related Documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/monkey_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Connect To Rackspace Public Cloud</a><ul>
<li><a class="reference internal" href="#set-up-your-python-virutal-environment">Set up your python virutal environment</a><ul>
<li><a class="reference internal" href="#install-the-python-virtuenv-package-ubuntu-debian">Install the python virtuenv package(Ubuntu/Debian)</a></li>
<li><a class="reference internal" href="#install-the-python-virtuenv-package-fedora">Install the python virtuenv package(Fedora)</a></li>
<li><a class="reference internal" href="#create-the-python-virtualenv">Create the python virtualenv</a></li>
<li><a class="reference internal" href="#make-it-active">Make it active</a></li>
<li><a class="reference internal" href="#install-the-nova-client-software">Install the nova client software</a></li>
<li><a class="reference internal" href="#create-the-config-file">Create the config file</a></li>
<li><a class="reference internal" href="#test-it-out">Test it out</a></li>
<li><a class="reference internal" href="#add-your-key">Add your key</a></li>
<li><a class="reference internal" href="#boot-and-log-into-a-server">Boot and Log into a server</a></li>
<li><a class="reference internal" href="#all-the-other-things">All the other things</a></li>
<li><a class="reference internal" href="#future-use">Future Use</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Openstack Related Documentation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../generaldocs/index.html"
                        title="next chapter">General Documentation</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/openstackdocs/connect_to_rackspace_public_cloud.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="connect-to-rackspace-public-cloud">
<h1>Connect To Rackspace Public Cloud<a class="headerlink" href="#connect-to-rackspace-public-cloud" title="Permalink to this headline">¶</a></h1>
<p>This is just for python-openstackclient configuration.  The older way was to
source environment files and use separate clients for each service.  You would
have to use something like supernova to manage all of the different
environments.  The openstack client this built into its own config file.</p>
<div class="section" id="set-up-your-python-virutal-environment">
<h2>Set up your python virutal environment<a class="headerlink" href="#set-up-your-python-virutal-environment" title="Permalink to this headline">¶</a></h2>
<p>Before connecting, we will need all of the openstack client tools.  You do NOT
want to go down the road of using the OS provided python modules or things will
eventually break.  Its just easier to deal with a virtualenv in the long run.</p>
<div class="section" id="install-the-python-virtuenv-package-ubuntu-debian">
<h3>Install the python virtuenv package(Ubuntu/Debian)<a class="headerlink" href="#install-the-python-virtuenv-package-ubuntu-debian" title="Permalink to this headline">¶</a></h3>
<div class="highlight-sh"><div class="highlight"><pre><span></span>apt-get update
apt-get install python-virtualenv
</pre></div>
</div>
</div>
<div class="section" id="install-the-python-virtuenv-package-fedora">
<h3>Install the python virtuenv package(Fedora)<a class="headerlink" href="#install-the-python-virtuenv-package-fedora" title="Permalink to this headline">¶</a></h3>
<div class="highlight-sh"><div class="highlight"><pre><span></span>dnf install python-virtualenv
</pre></div>
</div>
</div>
<div class="section" id="create-the-python-virtualenv">
<h3>Create the python virtualenv<a class="headerlink" href="#create-the-python-virtualenv" title="Permalink to this headline">¶</a></h3>
<div class="highlight-sh"><div class="highlight"><pre><span></span>virtualenv <span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/rs_pub_venv
</pre></div>
</div>
</div>
<div class="section" id="make-it-active">
<h3>Make it active<a class="headerlink" href="#make-it-active" title="Permalink to this headline">¶</a></h3>
<div class="highlight-sh"><div class="highlight"><pre><span></span>. <span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/rs_pub_venv/bin/activate
</pre></div>
</div>
</div>
<div class="section" id="install-the-nova-client-software">
<h3>Install the nova client software<a class="headerlink" href="#install-the-nova-client-software" title="Permalink to this headline">¶</a></h3>
<div class="highlight-sh"><div class="highlight"><pre><span></span>pip install python-openstackclient
</pre></div>
</div>
</div>
<div class="section" id="create-the-config-file">
<h3>Create the config file<a class="headerlink" href="#create-the-config-file" title="Permalink to this headline">¶</a></h3>
<p>I like to create a different entry for each region to keep
from having to put full –os-region-name argument on every
call.</p>
<div class="highlight-sh"><div class="highlight"><pre><span></span>mkdir -p <span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/.config/openstack

vi <span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/.config/openstack/clouds.yml
</pre></div>
</div>
<div class="highlight-sh"><div class="highlight"><pre><span></span>clouds:
  rs-dfw:
    auth:
      auth_url: <span class="s1">&#39;https://identity.api.rackspacecloud.com/v2.0/&#39;</span>
      project_id: rs-tenant-id
      username: rs-user
      password: rs-pass
    region_name: DFW

  rs-iad:
    auth:
      auth_url: <span class="s1">&#39;https://identity.api.rackspacecloud.com/v2.0/&#39;</span>
      project_id: rs-tenant-id
      username: rs-user
      password: rs-pass
    region_name: IAD

  rs-ord:
    auth:
      auth_url: <span class="s1">&#39;https://identity.api.rackspacecloud.com/v2.0/&#39;</span>
      project_id: rs-tenant-id
      username: rs-user
      password: rs-pass
    region_name: ORD

  rs-lon:
    auth:
      auth_url: <span class="s1">&#39;https://identity.api.rackspacecloud.com/v2.0/&#39;</span>
      project_id: rs-tenant-id
      username: rs-user
      jpassword: rs-pass
    region_name: LON

  rs-syd:
    auth:
      auth_url: <span class="s1">&#39;https://identity.api.rackspacecloud.com/v2.0/&#39;</span>
      project_id: rs-tenant-id
      username: rs-user
      password: rs-pass
    region_name: SYD

  rs-hkg:
    auth:
      auth_url: <span class="s1">&#39;https://identity.api.rackspacecloud.com/v2.0/&#39;</span>
      project_id: rs-tenant-id
      username: rs-user
      password: rs-pass
    region_name: HKG
</pre></div>
</div>
</div>
<div class="section" id="test-it-out">
<h3>Test it out<a class="headerlink" href="#test-it-out" title="Permalink to this headline">¶</a></h3>
<div class="highlight-sh"><div class="highlight"><pre><span></span>openstack --os-cloud rs-dfw catalog list
openstack --os-cloud rs-dfw server list
openstack --os-cloud rs-dfw flavor list
openstack --os-cloud rs-dfw image list
</pre></div>
</div>
</div>
<div class="section" id="add-your-key">
<h3>Add your key<a class="headerlink" href="#add-your-key" title="Permalink to this headline">¶</a></h3>
<div class="highlight-sh"><div class="highlight"><pre><span></span>openstack --os-cloud rs-dfw keypair list
ssh-keygen  <span class="c1"># To generate a local ssh keypair if needed</span>
openstack --os-cloud rs-dfw keypair create --public-key <span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/.ssh/id_rsa.pub mytestkey
</pre></div>
</div>
</div>
<div class="section" id="boot-and-log-into-a-server">
<h3>Boot and Log into a server<a class="headerlink" href="#boot-and-log-into-a-server" title="Permalink to this headline">¶</a></h3>
<div class="highlight-sh"><div class="highlight"><pre><span></span>openstack --os-cloud rs-dfw server create --flavor <span class="s2">&quot;512MB Standard Instance&quot;</span> --image <span class="s2">&quot;Fedora 26 (PVHVM)&quot;</span> --key-name mytestkey test01
openstack --os-cloud rs-dfw server list
openstack --os-cloud rs-dfw server show test01

ssh root@&lt;public_ip_from_previous_command&gt;
ctrl-d

openstack --os-cloud rs-dfw server delete test01
</pre></div>
</div>
</div>
<div class="section" id="all-the-other-things">
<h3>All the other things<a class="headerlink" href="#all-the-other-things" title="Permalink to this headline">¶</a></h3>
<p>You can use help to get all of the available/required settings and arguments.
A command may have several layers and the openstack help will give help for
each.</p>
<div class="highlight-sh"><div class="highlight"><pre><span></span>openstack <span class="nb">help</span>
openstack <span class="nb">help</span> <span class="nb">command</span>
openstack <span class="nb">help</span> <span class="nb">command</span> subcommand
</pre></div>
</div>
</div>
<div class="section" id="future-use">
<h3>Future Use<a class="headerlink" href="#future-use" title="Permalink to this headline">¶</a></h3>
<p>Remember to source your virtualenv activate file before running any openstack
commands.</p>
<div class="highlight-sh"><div class="highlight"><pre><span></span>. <span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/rs_pub_venv/bin/activate
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../generaldocs/index.html" title="General Documentation"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Openstack Related Documentation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">MerlinTechs</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Openstack Related Documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Shannon Mitchell.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.3.
    </div>
  </body>
</html>